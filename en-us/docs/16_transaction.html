<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="16_transaction" />
	<meta name="description" content="16_transaction" />
	<!-- 网页标签标题 -->
	<title>16_transaction</title>
	<link rel="shortcut icon" href="/img/docsite.ico"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/en-us/index.html"><img class="logo" src="/img/dubbo_colorful.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><span class="language-switch language-switch-normal">中</span><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><a href="/en-us/index.html" target="_self">HOME</a></li><li class="menu-item menu-item-normal menu-item-normal-active"><a href="/en-us/docs/demo1.html" target="_self">DOCS</a></li><li class="menu-item menu-item-normal"><a href="/en-us/blog/index.html" target="_self">BLOG</a></li><li class="menu-item menu-item-normal"><a href="/en-us/community/index.html" target="_self">COMMUNITY</a></li></ul></div></div></header><div class="bar"><div class="bar-body"><img src="/img/system/docs.png" class="front-img"/><span>Document</span><img src="/img/system/docs.png" class="back-img"/></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span>Understanding Bytom</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/mydoc_index.html" target="_self">Overview</a></li><li style="height:324px;overflow:hidden" class="menu-item menu-item-level-2"><span>Architecture and Design<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/12_architecture_overview.html" target="_self">Overall Architecture Overview</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/13_key.html" target="_self">Key</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/14_address.html" target="_self">Address</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/15_account.html" target="_self">Account</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/16_transaction.html" target="_self">Transaction</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/18_block.html" target="_self">Block</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/17_UTXO.html" target="_self">UTXO</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/19_p2p.html" target="_self">P2p Network</a></li></ul></li><li style="height:108px;overflow:hidden" class="menu-item menu-item-level-2"><span>Consensus<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/18_consensus.html" target="_self">Overvew</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">Design Principle</a></li></ul></li><li style="height:180px;overflow:hidden" class="menu-item menu-item-level-2"><span>Smart Contract<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/20_smart_contract_overview.html" target="_self">Overview</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/21_smart_contract_build.html" target="_self">Smart Contract Build</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/22_contract_operator.html" target="_self">Contract Template</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/22_contract_template.html" target="_self">Contract Template</a></li></ul></li><li style="height:108px;overflow:hidden" class="menu-item menu-item-level-2"><span>Side Chain<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo1.html" target="_self">Overview</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">Configuration Node</a></li></ul></li></ul></li><li class="menu-item menu-item-level-1"><span>Developer Guilde</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/06_build_environment.html" target="_self">Build Developer Environment</a></li><li style="height:108px;overflow:hidden" class="menu-item menu-item-level-2"><span>Compile and Run Node<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/07_compile_and_run_node.html" target="_self"></a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">docker run node</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/08_rpc_call.html" target="_self">RPC Tutorial</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/09_ws_call.html" target="_self">Websocket Tutorial</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Fast Learning</span><ul><li style="height:144px;overflow:hidden" class="menu-item menu-item-level-2"><span>DAPP Guild<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo1.html" target="_self">Installation And Operation</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">Configuration Node</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">Command Line Tool</a></li></ul></li><li style="height:144px;overflow:hidden" class="menu-item menu-item-level-2"><span>Development Data Collection<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo1.html" target="_self">Document</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">Configuration Node</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">Command Line Tool</a></li></ul></li></ul></li><li class="menu-item menu-item-level-1"><span>Docking Guild</span><ul><li style="height:108px;overflow:hidden" class="menu-item menu-item-level-2"><span>Exchange Docking Guide<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo1.html" target="_self">Installation And Operation</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">Configuration Node</a></li></ul></li><li style="height:144px;overflow:hidden" class="menu-item menu-item-level-2"><span>Wallet Docking Guide<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo1.html" target="_self">Sign Key</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">Configuration Node</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">Begining</a></li></ul></li></ul></li><li class="menu-item menu-item-level-1"><span>SDK Total</span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/10_other_sdk.html" target="_self">Third party SDK</a></li></ul></li><li class="menu-item menu-item-level-1"><span>Ecosphere</span><ul><li style="height:180px;overflow:hidden" class="menu-item menu-item-level-2"><span>Bytom Ecology<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/23_wallet.html" target="_self">Full Node Wallet</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/24_ligth_wallet.html" target="_self">Light Wallet</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/25_block_explorer.html" target="_self">Blockchain Browser</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/26_mining_pool.html" target="_self">Mine Pool</a></li></ul></li><li style="height:144px;overflow:hidden" class="menu-item menu-item-level-2"><span>Floor Application<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo1.html" target="_self">Payment Case</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">Data OnChain</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/demo2.html" target="_self">Dapp</a></li></ul></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>Transaction</h1>
<h2>Introduction</h2>
<p>​	Blockchain consists of a set of transactions that are irreversible and linked by cryptography. Each transaction contains one or more “inputs” and “outputs”. An input can issue a new asset unit or use a existing asset unit in the previous transaction output as the source of the transfer. The output gets the asset units from the input and decides how to allocate them. A single output contains an amount of assets and a corresponding control program in order to specify how it will be spent. Also, an output can retire asset units and remove them from circulation.</p>
<p>​	A transaction can have multiple inputs and outputs that may contain many different types of assets, different sources, and different destinations. In a transaction, all actions (issuing, spending, receiving, and retiring assets) will be executed simultaneously as a single atomic operation. There is no timepoint that actions only partially executed.</p>
<p>​	In a transaction, the total amount of assets in the input must equal the total amount of assets in the output. In order to create a new asset unit, we issue the asset in one input and receive it with one or more outputs . Also, we spend the asset in one input and receive it in one or more outputs to transfer. As for retiring, spend it in the input and destroy it in one output.</p>
<h3>Spend the whole UTXO</h3>
<p>​	Create an input, that is, a certain amount of assets are spent from a previous transaction output, and all of assets must be fully spent. If you don't want to transfer all of assets to the receiver, it is necessary to return some to your account，which is called change. Therefore, spending assets from one input often requires two outputs. One as the output of destination and one for returning the assets left. In general, Bytom will automatically manage the change output for you.</p>
<h3>Merge UTXOs</h3>
<p>​	Some payments may require a lot of asset units since the amount is greater than any UTXOs. When using the account to make a purchase, as long as assets are enough in the account , Bytom will automatically select the UTXOs to satisfy the payment.</p>
<h3>Create Transactions</h3>
<p>​	Creating a transaction contains three steps in total:</p>
<pre><code>1. Build-transaction: Define what the transaction is for:  to issue an asset or to spend an asset from an account, or to use another account to receive an asset.
</code></pre>
<ol start="2">
<li>
<p>Sign-transaction: Use the private key to sign the asset spending or issue new asset units.</p>
</li>
<li>
<p>Submit-transaction: Submit a complete, signed transaction to the blockchain and propagate it to other nodes on the mainnet.</p>
</li>
</ol>
<h4>Build-transaction</h4>
<p>​	You don't have to directly manipulate input and output on Bytom, but to build transactions through several high-level actions listed below. There are six types of actions currently :</p>
<table>
<thead>
<tr>
<th>action</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>issue</td>
<td>Issue a new asset unit</td>
</tr>
<tr>
<td>spend_account</td>
<td>Spend specified asset units from a specified account. Bytom will automatically find enough asset units from UTXOs and create an output for change.</td>
</tr>
<tr>
<td>spend_account_unspent_output</td>
<td>Specify a complete UTXO from an account. And change requires other actions.</td>
</tr>
<tr>
<td>control_address</td>
<td>Receive an asset unit in the form of address pattern.</td>
</tr>
<tr>
<td>control_program</td>
<td>Receive an asset unit in the form of contract pattern.</td>
</tr>
<tr>
<td>retire</td>
<td>Retire specified asset units</td>
</tr>
</tbody>
</table>
<h4>Sign-transaction</h4>
<p>​	In order to be accepted by the blockchain, a transaction requires a valid signature contained in its input. For the input of asset issuance, the signature must correspond to the public key of the asset issuance program，and for the spending input, the signature must correspond to the public key of the control program in the output which will be spent. Transaction signatures ensure the security of blockchain, while cryptography can prevent someone to generate valid transaction signatures without the related private key.</p>
<h4>Submit-transaction</h4>
<p>​	Provided that the input and output of the transaction is balanced and all inputs are signed, it is considered valid and can be submitted to the blockchain. The local node will be the first to add the transaction to the blockchain and propagate to its peers on the mainnet.</p>
</div></section><footer class="footer-container"><div class="footer-body"><img src="/img/dubbo_gray.png"/><div class="cols-container"><div class="col col-12"><h3>Disclaimer</h3><p>the disclaimer content</p></div><div class="col col-6"><dl><dt>Documentation</dt><dd><a href="/en-us/docs/demo1.html" target="_self">Overview</a></dd><dd><a href="/en-us/docs/demo2.html" target="_self">Quick start</a></dd><dd><a href="/en-us/docs/dir/demo3.html" target="_self">Developer guide</a></dd></dl></div><div class="col col-6"><dl><dt>Resources</dt><dd><a href="/en-us/blog/index.html" target="_self">Blog</a></dd><dd><a href="/en-us/community/index.html" target="_self">Community</a></dd></dl></div></div><div class="copyright"><span>Copyright © 2018 Bytomxxxxxxxx</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js"></script>
</body>
</html>