<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="14_1_transaction" />
	<meta name="description" content="14_1_transaction" />
	<!-- 网页标签标题 -->
	<title>Transaction</title>
	<link rel="shortcut icon" href="/img/docsite.ico"/>
	<link rel="stylesheet" href="/build/documentation.css" />
</head>
<body>
	<div id="root"><div class="documentation-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/en-us/index.html"><img class="logo" src="/img/dubbo_colorful.png"/></a><span class="language-switch language-switch-normal">中</span><span class="github"><a title="Github" target="_blank" href="https://github.com/Bytom/bytom"><img src="/img/github.png" alt=""/></a></span><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal menu-item-normal-active"><a href="/dev" target="_self">Developer</a></li></ul></div></div></header><div style="background:url(/img/banner.png)  top center no-repeat" class="bar"><div class="bar-body"><p>Bytom Dev Document</p></div></div><section class="content-section"><div class="sidemenu"><div class="sidemenu-toggle"><img src="https://img.alicdn.com/tfs/TB1E6apXHGYBuNjy0FoXXciBFXa-200-200.png"/></div><ul><li class="menu-item menu-item-level-1"><span></span><ul><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/01_bytom.html" target="_self">Bytom</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/02_release.html" target="_self">Release</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/03_technology.html" target="_self">Technology</a></li><li style="height:216px;overflow:hidden" class="menu-item menu-item-level-2"><span>Client<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/04_1_bytom.html" target="_self">Bytom</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/04_2_simd.html" target="_self">Simd</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/04_3_spv.html" target="_self">SPV</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/04_4_vapor.html" target="_self">Vapor</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/04_5_gm.html" target="_self">GM</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/05_compile.html" target="_self">Compile</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/06_network.html" target="_self">Network</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/07_dashboard.html" target="_self">Dashboard</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/08_cli_guide.html" target="_self">Cli Guide</a></li><li style="height:216px;overflow:hidden" class="menu-item menu-item-level-2"><span>Mining<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/09_1_tensority.html" target="_self">Tensority</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/09_2_cpu.html" target="_self">CPU Mining</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/09_3_gpu.html" target="_self">GPU Mining</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/09_4_asic.html" target="_self">ASIC Mining</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/09_5_mining_pools.html" target="_self">Pool Mining</a></li></ul></li><li style="height:180px;overflow:hidden" class="menu-item menu-item-level-2"><span>Tools<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/10_1_blockmeta.html" target="_self">Blockmeta</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/10_2_bytom_kit.html" target="_self">Bytom Kit</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/10_3_byone.html" target="_self">Byone</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/10_4_bytom_spanner.html" target="_self">Bytom Spanner</a></li></ul></li><li style="height:252px;overflow:hidden" class="menu-item menu-item-level-2"><span>Dev Guide<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/11_1_architecture.html" target="_self">Architecture</a></li><li class="menu-item menu-item-level-3"><a target="_self">Transaction</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/11_3_mnemonic.html" target="_self">Mnemonic</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/11_4_websocket.html" target="_self">Websocket Request</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/11_5_json_rpc.html" target="_self">JSON-RPC Request</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/11_6_sdk.html" target="_self">SDK</a></li></ul></li><li style="height:180px;overflow:hidden" class="menu-item menu-item-level-2"><span>Smart Contract<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/12_1_equity.html" target="_self">Equity</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/12_2_smart_contract_build.html" target="_self">Smart Contract Build</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/12_3_contract_template.html" target="_self">Contract Template</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/12_4_contract_operator.html" target="_self">Contract Operator</a></li></ul></li><li style="height:72px;overflow:hidden" class="menu-item menu-item-level-2"><span>Docking Guide<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/13_1_mining_pool_docking_guide.html" target="_self">Mining Pool</a></li></ul></li><li style="height:180px;overflow:hidden" class="menu-item menu-item-level-2"><span>Glossary<img style="transform:rotate(0deg)" class="menu-toggle" src="/img/system/arrow_down.png"/></span><ul><li class="menu-item menu-item-level-3"><a href="/en-us/docs/14_1_transaction.html" target="_self">Transaction</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/14_2_address.html" target="_self">Address</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/14_3_account.html" target="_self">Account</a></li><li class="menu-item menu-item-level-3"><a href="/en-us/docs/14_4_block.html" target="_self">Block</a></li></ul></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/15_error_code.html" target="_self">Error Code</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/16_faq.html" target="_self">FAQ</a></li><li style="height:36px;overflow:hidden" class="menu-item menu-item-level-2"><a href="/en-us/docs/17_community.html" target="_self">Community</a></li></ul></li></ul></div><div class="doc-content markdown-body"><h1>Transaction</h1>
<p><a name="Introduction"></a></p>
<h2>Introduction</h2>
<p>Blockchain consists of a set of transactions that are irreversible and linked by cryptography. Each transaction contains one or more “inputs” and “outputs”. An input can issue a new asset unit or use a existing asset unit in the previous transaction output as the source of the transfer. The output gets the asset units from the input and decides how to allocate them. A single output contains an amount of assets and a corresponding control program in order to specify how it will be spent. Also, an output can retire asset units and remove them from circulation.<br />A transaction can have multiple inputs and outputs that may contain many different types of assets, different sources, and different destinations. In a transaction, all actions (issuing, spending, receiving, and retiring assets) will be executed simultaneously as a single atomic operation. There is no timepoint that actions only partially executed.<br />In a transaction, the total amount of assets in the input must equal the total amount of assets in the output. In order to create a new asset unit, we issue the asset in one input and receive it with one or more outputs . Also, we spend the asset in one input and receive it in one or more outputs to transfer. As for retiring, spend it in the input and destroy it in one output.</p>
<p><a name="060a0521"></a></p>
<h3>Spend the whole UTXO</h3>
<p>Create an input, that is, a certain amount of assets are spent from a previous transaction output, and all of assets must be fully spent. If you don't want to transfer all of assets to the receiver, it is necessary to return some to your account，which is called change. Therefore, spending assets from one input often requires two outputs. One as the output of destination and one for returning the assets left. In general, Bytom will automatically manage the change output for you.</p>
<p><a name="a8939693"></a></p>
<h3>Merge UTXOs</h3>
<p>Some payments may require a lot of asset units since the amount is greater than any UTXOs. When using the account to make a purchase, as long as assets are enough in the account , Bytom will automatically select the UTXOs to satisfy the payment.</p>
<p><a name="d13fbe30"></a></p>
<h3>Create Transactions</h3>
<p>Creating a transaction contains three steps in total:<br />1. Build-transaction: Define what the transaction is for:  to issue an asset or to spend an asset from an account, or to use another account to receive an asset.<br />2. Sign-transaction: Use the private key to sign the asset spending or issue new asset units.<br />3. Submit-transaction: Submit a complete, signed transaction to the blockchain and propagate it to other nodes on the mainnet.</p>
<p><a name="Build-transaction"></a></p>
<h4>Build-transaction</h4>
<p>You don't have to directly manipulate input and output on Bytom, but to build transactions through several high-level actions listed below. There are six types of actions currently :</p>
<table>
<thead>
<tr>
<th>action</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>issue</td>
<td>Issue a new asset unit</td>
</tr>
<tr>
<td>spend_account</td>
<td>Spend specified asset units from a specified account. Bytom will automatically find enough asset units from UTXOs and create an output for change.</td>
</tr>
<tr>
<td>spend_account_unspent_output</td>
<td>Specify a complete UTXO from an account. And change requires other actions.</td>
</tr>
<tr>
<td>control_address</td>
<td>Receive an asset unit in the form of address pattern.</td>
</tr>
<tr>
<td>control_program</td>
<td>Receive an asset unit in the form of contract pattern.</td>
</tr>
<tr>
<td>retire</td>
<td>Retire specified asset units</td>
</tr>
</tbody>
</table>
<p><a name="Sign-transaction"></a></p>
<h4>Sign-transaction</h4>
<p>In order to be accepted by the blockchain, a transaction requires a valid signature contained in its input. For the input of asset issuance, the signature must correspond to the public key of the asset issuance program，and for the spending input, the signature must correspond to the public key of the control program in the output which will be spent. Transaction signatures ensure the security of blockchain, while cryptography can prevent someone to generate valid transaction signatures without the related private key.</p>
<p><a name="Submit-transaction"></a></p>
<h4>Submit-transaction</h4>
<p>Provided that the input and output of the transaction is balanced and all inputs are signed, it is considered valid and can be submitted to the blockchain. The local node will be the first to add the transaction to the blockchain and propagate to its peers on the mainnet.</p>
</div></section><footer class="footer-container"><div class="footer-body"><div class="copyright"><span>Copyright © 2019 Bytom</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/documentation.js"></script>
</body>
</html>